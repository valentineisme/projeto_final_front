{"remainingRequest":"/home/aluno/Documentos/edu_project/django-vue/frontend-vue/app/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/aluno/Documentos/edu_project/django-vue/frontend-vue/app/src/components/Books/Create.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/aluno/Documentos/edu_project/django-vue/frontend-vue/app/src/components/Books/Create.vue","mtime":1574771660801},{"path":"/home/aluno/Documentos/edu_project/django-vue/frontend-vue/app/node_modules/vuetify-loader/lib/loader.js","mtime":1564062719000},{"path":"/home/aluno/Documentos/edu_project/django-vue/frontend-vue/app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/aluno/Documentos/edu_project/django-vue/frontend-vue/app/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport axios from \"axios\"\nexport default {\n  name: \"CreateBook\",\n  data() {\n    return {\n      dialog: false,\n      genres: [],\n      authors: [],\n      book: {},\n      bookauthors: [{\n        author: \"\",\n        role: 0\n      }],\n      roles: [\n        {id: 0, role: \"Writer\"},\n        {id: 1, role: \"Translator\"},\n        {id: 2, role: \"Illustrator\"},\n        {id: 3, role: \"Editorss\"}\n      ]\n    };\n  },\n  created() {\n    this.getGenres()\n    this.getAuthors()\n  },\n  methods: {\n    addauthor(index) {\n      this.bookauthors.push({ name: '', role: ''});\n    },\n    removeauthor(index) {\n      this.bookauthors.splice(index, 1);\n    },\n    getGenres() {\n      axios\n      .request({\n        baseURL: \"http://localhost:8000\",\n        method: \"get\",\n        url: \"/api/genres/\"\n      })\n      .then(response => {\n        this.genres = response.data\n        console.log(response)\n      });\n    },\n    getRoles() {\n\n    },\n    getAuthors() {\n      axios\n      .request({\n        baseURL: \"http://localhost:8000\",\n        method: \"get\",\n        url: \"/api/authors/\"\n      })\n      .then(response => {\n        this.authors = response.data\n        console.log(response)\n      });\n    },\n    add() {\n      this.book.authors = this.bookauthors\n      axios\n        .post(\"http://localhost:8000/api/books/add/\",\n          this.book, \n          {\n            headers: {\n              Authorization: `Token ${this.$session.get(\"token\")}`\n            }\n          }\n        )\n        .then(response => {\n          this.dialog = false\n          this.$emit('updateBooks')\n          this.log.console(response)\n        });\n    }\n  }\n};\n",{"version":3,"sources":["Create.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Create.vue","sourceRoot":"src/components/Books","sourcesContent":["<template>\n  <v-row justify=\"center\">\n    <v-dialog v-model=\"dialog\" persistent max-width=\"600px\">\n      <template v-slot:activator=\"{ on }\">\n        <v-card-text>\n          <v-fab-transition>\n            <v-btn primary v-on=\"on\" dark relative fixed bottom right fab>\n              <v-icon>mdi-plus</v-icon>\n            </v-btn>\n          </v-fab-transition>\n        </v-card-text>\n      </template>\n\n      <v-card>\n        <v-card-title>\n          <span class=\"headline\">Adicionar Livros</span>\n        </v-card-title>\n        <v-card-text>\n          <v-container>\n            <v-row>\n              <v-col cols=\"12\">\n                <v-text-field v-model=\"book.name\" label=\"Título*\" hint=\"Título do livro\" required></v-text-field>\n              </v-col>\n              <v-row class=\"form-group\" v-for=\"(input,k) in bookauthors\" :key=\"k\">\n                \n              <v-col cols=\"7\">\n                <v-select\n                  :items = \"authors\"\n                  item-value = \"id\"\n                  item-text = \"first_name\"\n                  label = \"Autores\"\n                  attach\n                  single-line\n                  v-model = \"input.author\"\n                >\n                </v-select>\n              </v-col>\n              <v-col cols=\"4\">\n                <v-select\n                  :items = \"roles\"\n                  item-value = \"id\"\n                  item-text = \"role\"\n                  label = \"Role\"\n                  attach\n                  single-line\n                  v-model=\"input.role\"\n                >\n                </v-select>\n              </v-col>\n              <v-col cols=\"1\">\n                    <v-icon \n                      @click=\"addauthor(k)\"\n                    >mdi-plus</v-icon>\n                    <v-icon \n                      @click=\"removeauthor(k)\"\n                      v-show=\"k || ( !k && bookauthors.length > 1)\">\n                       mdi-minus\n                    </v-icon>\n              </v-col>\n              </v-row>\n              <v-col cols=\"12\">\n                <v-text-field v-model=\"book.description\" label=\"Descrição*\" type=\"text\" required></v-text-field>\n              </v-col>\n              <v-col cols=\"12\">\n                <v-select\n                  :items = \"genres\"\n                  item-value = \"id\"\n                  item-text = \"name\"\n                  label = \"Gênero\"\n                  attach\n                  v-model = \"book.genre\"\n                >\n                </v-select>\n              </v-col>\n            </v-row>\n          </v-container>\n          <small>*informações obrigatórias</small>\n        </v-card-text>\n        <v-card-actions>\n          <div class=\"flex-grow-1\"></div>\n          <v-btn color=\"blue darken-1\" text @click=\"dialog = false\">Fechar</v-btn>\n          <v-btn color=\"blue darken-1\" text @click=\"add()\">Salvar</v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n  </v-row>\n</template>\n<script>\nimport axios from \"axios\"\nexport default {\n  name: \"CreateBook\",\n  data() {\n    return {\n      dialog: false,\n      genres: [],\n      authors: [],\n      book: {},\n      bookauthors: [{\n        author: \"\",\n        role: 0\n      }],\n      roles: [\n        {id: 0, role: \"Writer\"},\n        {id: 1, role: \"Translator\"},\n        {id: 2, role: \"Illustrator\"},\n        {id: 3, role: \"Editorss\"}\n      ]\n    };\n  },\n  created() {\n    this.getGenres()\n    this.getAuthors()\n  },\n  methods: {\n    addauthor(index) {\n      this.bookauthors.push({ name: '', role: ''});\n    },\n    removeauthor(index) {\n      this.bookauthors.splice(index, 1);\n    },\n    getGenres() {\n      axios\n      .request({\n        baseURL: \"http://localhost:8000\",\n        method: \"get\",\n        url: \"/api/genres/\"\n      })\n      .then(response => {\n        this.genres = response.data\n        console.log(response)\n      });\n    },\n    getRoles() {\n\n    },\n    getAuthors() {\n      axios\n      .request({\n        baseURL: \"http://localhost:8000\",\n        method: \"get\",\n        url: \"/api/authors/\"\n      })\n      .then(response => {\n        this.authors = response.data\n        console.log(response)\n      });\n    },\n    add() {\n      this.book.authors = this.bookauthors\n      axios\n        .post(\"http://localhost:8000/api/books/add/\",\n          this.book, \n          {\n            headers: {\n              Authorization: `Token ${this.$session.get(\"token\")}`\n            }\n          }\n        )\n        .then(response => {\n          this.dialog = false\n          this.$emit('updateBooks')\n          this.log.console(response)\n        });\n    }\n  }\n};\n</script>\n"]}]}